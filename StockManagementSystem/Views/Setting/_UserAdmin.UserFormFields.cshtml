@model UserAdminSettingsModel

<script>
    $(document).ready(function() {
        $("#@Html.IdFor(model => model.UserSettings.DateOfBirthEnabled)").click(toggleUserRequiredFormField);
        $("#@Html.IdFor(model => model.UserSettings.DateOfBirthRequired)").click(toggleUserRequiredFormField);
        $("#@Html.IdFor(model => model.UserSettings.PhoneEnabled)").click(toggleUserRequiredFormField);

        toggleUserRequiredFormField();
    });

    function toggleUserRequiredFormField() {
        if ($('#@Html.IdFor(model => model.UserSettings.DateOfBirthEnabled)').is(':checked')) {
            $('#pnlUserDateOfBirthRequired').show();
        } else {
            $('#pnlUserDateOfBirthRequired').hide();
        }

        if ($('#@Html.IdFor(model => model.UserSettings.DateOfBirthEnabled)').is(':checked') &&
            $('#@Html.IdFor(model => model.UserSettings.DateOfBirthRequired)').is(':checked')) {
            $('#pnlDateOfBirthMinimumAge').show();
        } else {
            $('#pnlDateOfBirthMinimumAge').hide();
        }

        if ($('#@Html.IdFor(model => model.UserSettings.PhoneEnabled)').is(':checked')) {
            $('#pnlUserPhoneRequired').show();
        } else {
            $('#pnlUserPhoneRequired').hide();
        }
    }
</script>

<div class="panel-group">
    <div class="panel panel-default">
        <div class="panel-heading">Default fields</div>
        <div class="panel-body">
            <p><em>Create and manage the user form fields available during registration/import below.</em></p>
            <div class="form-group">
                <div class="col-md-3">
                    <_label asp-for="UserSettings.GenderEnabled" />
                </div>
                <div class="col-md-9">
                    <_editor asp-for="UserSettings.GenderEnabled" />
                    <span asp-validation-for="UserSettings.GenderEnabled"></span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-3">
                    <_label asp-for="UserSettings.DateOfBirthEnabled" />
                </div>
                <div class="col-md-9">
                    <_editor asp-for="UserSettings.DateOfBirthEnabled" />
                    <span asp-validation-for="UserSettings.DateOfBirthEnabled"></span>
                </div>
            </div>
            <my-nested-setting asp-for="UserSettings.DateOfBirthEnabled">
                <div class="form-group" id="pnlUserDateOfBirthRequired">
                    <div class="col-md-3">
                        <_label asp-for="UserSettings.DateOfBirthRequired" />
                    </div>
                    <div class="col-md-9">
                        <_editor asp-for="UserSettings.DateOfBirthRequired" />
                        <span asp-validation-for="UserSettings.DateOfBirthRequired"></span>
                    </div>
                </div>
                <my-nested-setting asp-for="UserSettings.DateOfBirthRequired">
                    <div class="form-group" id="pnlDateOfBirthMinimumAge">
                        <div class="col-md-3">
                            <_label asp-for="UserSettings.DateOfBirthMinimumAge" />
                        </div>
                        <div class="col-md-9">
                            <_editor asp-for="UserSettings.DateOfBirthMinimumAge" />
                            <span asp-validation-for="UserSettings.DateOfBirthMinimumAge"></span>
                        </div>
                    </div>
                </my-nested-setting>
            </my-nested-setting>
            <div class="form-group">
                <div class="col-md-3">
                    <_label asp-for="UserSettings.PhoneEnabled" />
                </div>
                <div class="col-md-9">
                    <_editor asp-for="UserSettings.PhoneEnabled" />
                    <span asp-validation-for="UserSettings.PhoneEnabled"></span>
                </div>
            </div>
            <my-nested-setting asp-for="UserSettings.PhoneEnabled">
                <div class="form-group" id="pnlUserPhoneRequired">
                    <div class="col-md-3">
                        <_label asp-for="UserSettings.PhoneRequired" />
                    </div>
                    <div class="col-md-9">
                        <_editor asp-for="UserSettings.PhoneRequired" />
                        <span asp-validation-for="UserSettings.PhoneRequired"></span>
                    </div>
                </div>
            </my-nested-setting>
        </div>
    </div>
</div>